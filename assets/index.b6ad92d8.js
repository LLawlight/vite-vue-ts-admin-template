import{U as e,i as a,u as s,a as o}from"./index.b07605c5.js";import{d as n,b as l,e as r,w as t,M as d,n as i,g as c,j as p,r as u,o as m,c as g,k as w,R as v,D as h,m as f,G as y}from"./vendor.2c7359de.js";const q={name:"src/icons/svg/user",data:{width:"130",height:"130",viewBox:"0 0 130 130",data:'<path pid="0" d="M63.4 65c20.7 0 37.4-14.3 37.4-32 0-17.6-16.7-32-37.4-32-20.6 0-37.3 14.4-37.3 32 0 17.7 16.7 32 37.3 32zm17.2 10.7H49.4C22.8 75.7 1.2 94 1.2 116.9v2.7c0 9.3 21.6 9.3 48.2 9.3h31.2c26.6 0 48.2-.3 48.2-9.3v-2.7c0-22.8-21.6-41.2-48.2-41.2z" _stroke="#979797"/>'}},z={name:"src/icons/svg/password",data:{width:"128",height:"128",viewBox:"0 0 128 128",data:'<path pid="0" d="M108.8 44.3H89.6V39c0-9-3.3-24.2-25.6-24.2-23.1 0-25.6 16.9-25.6 24.2v5.3H19.2V39C19.2 15.3 36.8 0 64 0c27.2 0 44.8 15.3 44.8 39v5.3zm-32 39.4c0-5.5-5.8-9.9-12.8-9.9-7 0-12.8 4.4-12.8 9.9 0 3.7 2.6 6.8 6.4 8.5v11.2c0 2.7 2.9 5 6.4 5 3.5 0 6.4-2.3 6.4-5V92.2c3.8-1.7 6.4-4.8 6.4-8.5zM128 64v49.2c0 8.2-8.6 14.8-19.2 14.8H19.2C8.7 128 0 121.4 0 113.2V64c0-8.2 8.6-14.8 19.2-14.8h89.6c10.6 0 19.2 6.6 19.2 14.8z"/>'}},T={name:"src/icons/svg/eye-off",data:{width:"128",height:"64",viewBox:"0 0 128 64",data:'<path pid="0" d="M127 8c1.4-2.2 1-5.2-.8-6.9-2.1-1.7-4.8-1.2-6.4 1-.3.3-25.6 32.4-55.8 32.4C34.8 34.5 8.3 2 8 1.9a4.4 4.4 0 00-6.3-.5 5.2 5.2 0 00-.5 6.8c.5.8 6 7.4 14.6 14.8L4.2 36a5 5 0 00.2 6.8c.5 1 1.6 1.5 2.7 1.5s2.3-.5 3.2-1.5l12.6-14a87 87 0 0020.8 11.6l-4.8 17.4c-.7 2.7.7 5.4 3.2 6.1h1.4c2 0 3.8-1.4 4.3-3.7l4.8-17.4a58.3 58.3 0 0022.8 0L80.2 60a4.7 4.7 0 004.4 3.7c.4 0 .9 0 1.1-.3 2.5-.7 4-3.4 3.2-6.1l-4.8-17.2A87 87 0 00105 28.6l12.3 13.7c1 1 2.1 1.5 3.2 1.5s2.3-.5 3.2-1.5c1.9-2 1.9-4.9.3-6.8l-11.7-13C121.6 15 127.1 8 127.1 8z"/>'}},V={name:"src/icons/svg/eye-on",data:{width:"128",height:"128",viewBox:"0 0 1024 1024",data:'<defs/><path pid="0" d="M512 128q69.7 0 135.5 21.2t115.5 55 93.5 74.8 73.7 82 51.6 74.8 32.2 54.9l10 21.3-6.3 13.5q-4 8.5-18.8 34.7t-31.7 51.6-44.3 60-56.9 64.4-69.5 60.1-82.3 51.5-94.9 34.7T512 896q-69.7 0-135.5-21.2T261 820t-93.5-74.3-73.7-81.5-51.6-74.5-32.2-55l-10-21 6.3-13.5q4-8.5 18.8-34.8t31.7-51.8 44.3-60.4 56.9-64.6 69.5-60.4 82.3-51.8 94.9-34.8T512 128zm0 85.3q-46.7 0-91.6 12.4t-81.2 31.8-70.7 47.1-59.6 54.5-48.9 57.7-37.6 52.8-26.4 44q12.4 21.7 26.4 43.5t37.6 52.4 48.9 57 59.6 53.8 70.7 46.7 81.2 31.5 91.6 12.2 91.6-12.4 81.2-31.6 70.7-46.9 59.6-54.2 48.9-57.3 37.6-52.7T928 512q-12.4-21.7-26.4-43.6T864 415.7t-49-57.3-59.6-54.2-70.7-46.9-81.2-31.6-91.6-12.4zm0 128q70.7 0 120.7 50t50 120.7-50 120.7-120.7 50-120.7-50-50-120.7 50-120.7 120.7-50zm0 85.4q-35.3 0-60.3 25t-25 60.3 25 60.3 60.3 25 60.3-25 25-60.3-25-60.3-60.3-25z"/>'}},b={username:[{validator:(e,s,o)=>{a(s)?o():o(new Error("Please enter the correct user name"))},trigger:"blur"}],password:[{validator:(e,a,s)=>{a.length<6?s(new Error("The password can not be less than 6 digits")):s()},trigger:"blur"}]};var I=n({name:"Login",setup(){const a=l({username:"admin",password:"111111"}),n=r("password"),c=r(!1),p=r(),u=r(),m=r();let g,w={};const v=s(),h=o();t((()=>v.query),(e=>{var a;e&&(g=e.redirect,a=e,w=Object.keys(a).reduce(((e,s)=>("redirect"!==s&&(e[s]=a[s]),e)),{}))}),{deep:!0}),d((()=>{""===a.username?u.value.focus():""===a.password&&m.value.focus()}));return{loginForm:a,loginRules:b,passwordType:n,loading:c,loginFormRef:p,usernameRef:u,passwordRef:m,showPwd:()=>{"password"===n.value?n.value="":n.value="password",i((()=>{m.value.focus()}))},handleLogin:()=>{p.value.validate((async s=>{if(!s)return!1;try{c.value=!0,await e.Login(a),h.push({path:g||"/",query:w})}finally{c.value=!1}}))},userIcon:q,passwordIcon:z,eyeOffIcon:T,eyeOnIcon:V}}});const R=f();c("data-v-18202a50");const x={class:"login-container"},C=w("div",{class:"title-container"},[w("h3",{class:"title"},"vite-vue-ts-admin-template")],-1),F={class:"svg-container"},k={class:"svg-container"},L=y(" Sign in "),_=w("div",{style:{position:"relative"}},[w("div",{class:"tips"},[w("span",null," username: admin "),w("span",null," password: any ")])],-1);p();const M=R(((e,a,s,o,n,l)=>{const r=u("svg-icon"),t=u("el-input"),d=u("el-form-item"),i=u("el-button"),c=u("el-form");return m(),g("div",x,[w(c,{ref:"loginFormRef",model:e.loginForm,rules:e.loginRules,class:"login-form",autocomplete:"on","label-position":"left"},{default:R((()=>[C,w(d,{prop:"username"},{default:R((()=>[w("span",F,[w(r,{data:e.userIcon,original:""},null,8,["data"])]),w(t,{ref:"usernameRef",modelValue:e.loginForm.username,"onUpdate:modelValue":a[1]||(a[1]=a=>e.loginForm.username=a),name:"username",type:"text",autocomplete:"on",placeholder:"username"},null,8,["modelValue"])])),_:1}),w(d,{prop:"password"},{default:R((()=>[w("span",k,[w(r,{data:e.passwordIcon,original:""},null,8,["data"])]),w(t,{key:e.passwordType,ref:"passwordRef",modelValue:e.loginForm.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.loginForm.password=a),type:e.passwordType,placeholder:"password",name:"password",autocomplete:"on",onKeyup:v(e.handleLogin,["enter"])},null,8,["modelValue","type","onKeyup"]),w("span",{class:"show-pwd",onClick:a[3]||(a[3]=(...a)=>e.showPwd&&e.showPwd(...a))},[w(r,{data:"password"===e.passwordType?e.eyeOffIcon:e.eyeOnIcon,original:""},null,8,["data"])])])),_:1}),w(i,{loading:e.loading,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:h(e.handleLogin,["prevent"])},{default:R((()=>[L])),_:1},8,["loading","onClick"]),_])),_:1},8,["model","rules"])])}));I.render=M,I.__scopeId="data-v-18202a50";export default I;
